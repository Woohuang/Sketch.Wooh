var globalThis=this,global=this;function __skpm_run(e,t){globalThis.context=t;try{var r=function(e){var t={};function r(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(i,a,function(t){return e[t]}.bind(null,a));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t){var r={};function i(e,t,r,i){this.views=[],this.message=e||"Message Text",this.info=t,this.width=r||300,i instanceof Array&&i.length>0?this.buttons=i:this.buttons=["OK","Cancel"];var a=NSAlert.alloc().init();a.setMessageText(this.message),this.info&&a.setInformativeText(this.info);var n=NSImage.imageNamed("plugins");__command.pluginBundle()&&__command.pluginBundle().alertIcon()&&(n=__command.pluginBundle().alertIcon()),a.setIcon(n),this.buttons.forEach((function(e){a.addButtonWithTitle(e)})),this.self=a}r.width=300,r.rect=function(e){return Array.isArray(e)?e.length<2?NSMakeRect(0,0,e[0],24):2==e.length?NSMakeRect(0,0,e[0],e[1]):3==e.length?NSMakeRect(0,e[0],e[1],e[2]):e.length>3?NSMakeRect(e[0],e[1],e[2],e[3]):void 0:parseInt(e)?NSMakeRect(0,0,e,24):NSMakeRect(0,0,r.width,24)},r.groupLabel=function(e,t){var i;i=t&&Array.isArray(t)?this.rect(t):this.rect([0,0,t||r.width,16]);var a=NSTextField.alloc().initWithFrame(i);return a.setStringValue(e.toUpperCase()),a.setFont(NSFont.boldSystemFontOfSize(12)),a.setTextColor(NSColor.blackColor()),a.setBezeled(!1),a.setDrawsBackground(!1),a.setEditable(!1),a.setSelectable(!1),a},r.textLabel=function(e,t){var i;i=t&&Array.isArray(t)?this.rect(t):this.rect([0,0,t||r.width,16]);var a=NSTextField.alloc().initWithFrame(i);return a.setStringValue(e),a.setBezeled(!1),a.setDrawsBackground(!1),a.setEditable(!1),a.setSelectable(!1),a},r.textField=function(e,t){var i;i=t&&Array.isArray(t)?this.rect(t):this.rect([0,0,t||r.width,24]);var a=NSTextField.alloc().initWithFrame(i);return a.setStringValue(e),a},r.numberField=function(e,t){var i;i=t&&Array.isArray(t)?this.rect(t):this.rect([0,0,t||r.width,24]);var a=NSTextField.alloc().initWithFrame(i),n=NSNumberFormatter.alloc().init().autorelease();return a.setFormatter(n),a.setStringValue(String(e)),a},r.numberStepper=function(e,t,i,a){var n;t=t||0,i=i||100,n=a&&Array.isArray(a)?this.rect(a):this.rect([0,0,a||r.width,24]);var o=NSView.alloc().initWithFrame(n),s=NSTextField.alloc().initWithFrame(this.rect([0,0,50,24])),l=NSNumberFormatter.alloc().init().autorelease();s.setStringValue(String(e)),s.setFormatter(l);var c=NSStepper.alloc().initWithFrame(NSMakeRect(52,0,16,24));return c.setMaxValue(i),c.setMinValue(t),c.setValueWraps(!1),c.setAutorepeat(!0),c.setIntegerValue(e),c.setCOSJSTargetFunction((function(e){var t=e.integerValue();s.setStringValue(String(t))})),o.addSubview(s),o.addSubview(c),{view:o,stepper:c}},r.disableTextField=function(e,t){0==t?(e.setEditable(!0),e.setTextColor(NSColor.blackColor())):(e.setEditable(!1),e.setTextColor(NSColor.grayColor()))},r.checkBox=function(e,t,i){var a;a=i&&Array.isArray(i)?this.rect(i):this.rect([0,0,i||r.width,24]);var n=NSButton.alloc().initWithFrame(a);return n.setButtonType(NSSwitchButton),n.setTitle(t),1==e?n.setState(NSOnState):n.setState(NSOffState),n},r.popupButton=function(e,t){var i;i=t&&Array.isArray(t)?this.rect(t):this.rect([0,0,t||r.width,24]);var a=NSPopUpButton.alloc().initWithFrame(i);return e.forEach((function(e){a.addItemWithTitle(""),a.lastItem().setTitle(e)})),a},r.setItems_forPopupButton=function(e,t){t.removeAllItems(),e.forEach((function(e){t.addItemWithTitle(""),t.lastItem().setTitle(e)}))},r.selectItemWithTitle_forPopupButton=function(e,t){t.selectItemWithTitle(e)},r.selectItemAtIndex_forPopupButton=function(e,t){t.selectItemAtIndex(e)},r.select=function(e,t){var i;i=t&&Array.isArray(t)?this.rect(t):this.rect([0,0,t||r.width,30]);var a=NSComboBox.alloc().initWithFrame(i);return a.addItemsWithObjectValues(e),a},r.divider=function(e){var t;t=e&&Array.isArray(e)?this.rect(e):this.rect([0,0,e||r.width,1]);var i=NSView.alloc().initWithFrame(t);return i.setWantsLayer(!0),i.layer().setBackgroundColor(CGColorCreateGenericRGB(0,0,0,.1)),i},r.gap=function(e){return e=e||1,NSView.alloc().initWithFrame(NSMakeRect(0,0,r.width,8*e))},r.scrollView=function(e,t){var i;i=t&&Array.isArray(t)?this.rect(t):this.rect([0,0,r.width,t]);var a=NSScrollView.alloc().initWithFrame(i);a.setHasVerticalScroller(!0),a.setBorderType(NSBezelBorder);var n=NSView.alloc().initWithFrame(NSMakeRect(0,0,i.size.width,100));n.setFlipped(!0);var o=0;return e.forEach((function(e){e.setFlipped(!0);var t=e.bounds();t.origin.y=o,o+=t.size.height+1,e.setFrame(t);var a=r.divider([0,t.size.height-1,i.size.width,1]);e.addSubview(a),n.setFrame(NSMakeRect(0,0,i.size.width,o)),n.addSubview(e)})),a.setDocumentView(n),a},r.scrollViewSetContent=function(e,t){var i=e.bounds().size.width,a=NSView.alloc().initWithFrame(NSMakeRect(0,0,i,100));a.setFlipped(!0);var n=0;t.forEach((function(e){var t=e.bounds();t.origin.y=n,n+=t.size.height+1,e.setFrame(t),a.setFrame(NSMakeRect(0,0,i,n)),a.addSubview(e);var o=r.divider([0,n-1,i,1]);a.addSubview(o)})),e.setDocumentView(a)},r.colorPicker=function(e,t){var r;r=e&&Array.isArray(e)?this.rect(e):this.rect([0,0,e||40,24]);var i,a=NSColorWell.alloc().initWithFrame(r);if(t){var n=parseInt(t.substr(1,2),16)/255,o=parseInt(t.substr(3,2),16)/255,s=parseInt(t.substr(5,2),16)/255;i=NSColor.colorWithRed_green_blue_alpha(n,o,s,1)}else i=NSColor.blackColor();return a.setColor(i),a},r.image=function(e,t){var r;r=t&&Array.isArray(t)?this.rect(t):this.rect([0,0,t||100,t||100]);var i=NSImageView.alloc().initWithFrame(r);return i.setImage(e),i.setImageAlignment(NSImageAlignLeft),i},r.imageButton=function(e,t){var r;r=t&&Array.isArray(t)?this.rect(t):this.rect([0,0,t||100,t||100]);var i=NSButton.alloc().initWithFrame(r);return i.setTitle(""),i.setImage(e),i.setAlternateImage(e),i.setBordered(!1),i.setButtonType(NSMomentaryChangeButton),i.setBezelStyle(nil),i.setImagePosition(NSImageLeft),i.setImageScaling(NSImageScaleProportionallyDown),i},r.button=function(e,t){var r;r=t&&Array.isArray(t)?this.rect(t):this.rect([0,0,t||100,24]);var i=NSButton.alloc().initWithFrame(r);return i.setBezelStyle(NSRoundedBezelStyle),i.setTitle(e),i},r.view=function(e){var t;t=e&&Array.isArray(e)?this.rect(e):this.rect([0,0,this.width,e||100]);var r=NSView.alloc().initWithFrame(t);return r.setFlipped(!0),r},r.circle=function(e,t){var r;r=t&&Array.isArray(t)?this.rect(t):this.rect([0,0,t||10,t||10]);var i=NSView.alloc().initWithFrame(r);i.setWantsLayer(!0);var a=e?MSImmutableColor.colorWithSVGString(e).NSColorWithColorSpace(nil):NSColor.blackColor();return i.setBackgroundColor(a),i.layer().setCornerRadius(Math.min(r.size.width,r.size.height)/2),i},r.datePicker=function(e){var t;t=e&&Array.isArray(e)?this.rect(e):this.rect([0,0,e||120,e||24]);var r=NSDatePicker.alloc().initWithFrame(t);return r.setDatePickerStyle(NSTextFieldAndStepperDatePickerStyle),r.setDatePickerElements(NSYearMonthDayDatePickerElementFlag|NSYearMonthDatePickerElementFlag),r.setDateValue(NSDate.date()),r},i.prototype.addView=function(e){this.views.push(e)},i.prototype.addLabel=function(e){var t=r.textLabel(e,this.width);this.views.push(t)},i.prototype.addDivider=function(){var e=r.divider(this.width);this.views.push(e)},i.prototype.run=function(){var e=0,t=NSView.alloc().initWithFrame(NSMakeRect(0,0,this.width,1));t.setFlipped(!0),this.views.forEach((function(r){var i=r.bounds();i.origin.y=e,e+=i.size.height+8,r.setFrame(i),t.addSubview(r)}));var r=t.frame();return r.size.height=e,t.setFrame(r),this.self.setAccessoryView(t),this.self.runModal()},i.prototype.close=function(){NSApp.stopModal()},i.prototype.setKeyOrder=function(e){for(var t=0;t<e.length;t++){var r=e[t],i=e[t+1]||e[0];i&&r.setNextKeyView(i)}this.self.window().setInitialFirstResponder(e[0])},i.prototype.focus=function(e){this.self.window().setInitialFirstResponder(e)},e.exports.dialog=i,e.exports.ui=r},function(e,t){e.exports=require("sketch")},function(e,r,i){"use strict";i.r(r);var a=i(1),n=i.n(a),o=i(0).dialog,s=i(0).ui;r.default=function(){var e=t.plugin.url().path()+"/Contents/Sketch/manifest.json",r={zh:"中文",en:"English"},a=Object.keys(r),l=[];for(var c in r)l.push(r[""+c]);var u=new o("Switch Plugin Language"),h=s.popupButton(l);if(u.addView(h),1e3==u.run()){var d=h.indexOfSelectedItem(),f=t.plugin.urlForResourceNamed("manifest_"+a[d]+".json");if(f){var p=f.path();NSFileManager.defaultManager().removeItemAtPath_error_(e,nil),NSFileManager.defaultManager().copyItemAtPath_toPath_error_(p,e,nil),AppController.sharedInstance().pluginManager().reloadPlugins(),n.a.UI.message("Succeed In Switching Language")}else{(0,i(3).alert)("Language file not found.",'Language file "'+t.plugin.url().path()+"/Contents/Resources/manifest_"+a[d]+'.json" does not existed.')}}}},function(e,t){e.exports=require("sketch/ui")}]);if("default"===e&&"function"==typeof r)r(t);else{if("function"!=typeof r[e])throw new Error('Missing export named "'+e+'". Your command should contain something like `export function " + key +"() {}`.');r[e](t)}}catch(i){if("undefined"==typeof process||!process.listenerCount||!process.listenerCount("uncaughtException"))throw i;process.emit("uncaughtException",i,"uncaughtException")}}globalThis.onRun=__skpm_run.bind(this,"default");