var globalThis=this,global=this;function __skpm_run(e,n){globalThis.context=n;try{var t=function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e,n){e.exports=require("sketch")},function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),s=a.a.getSelectedDocument().selectedLayers.layers;n.default=function(){var e=0,n=0,t=0,r=0,o=0,i=s.filter((function(e){return"SymbolMaster"===e.type}));0===i.length&&(i=a.a.find("SymbolMaster").filter((function(e){return-1!==e.name.indexOf("lobal")&&-1!==e.name.indexOf("⚙️")}))),a.a.find("SymbolMaster").filter((function(e){return-1!==e.name.indexOf("lobal")&&-1!==e.name.indexOf("⚙️")})).forEach((function(e){e.getAllInstances().forEach((function(e){"SymbolMaster"===e.parent.type&&1===e.parent.layers.length&&i.splice(0,0,e.parent)}))})),i.length>0&&(e=1);var l=i.filter((function(e){return"ShapePath"===e.layers[0].type?-1!==e.layers[0].name.indexOf("adius")||-1!==e.layers[0].name.indexOf("圆角"):"SymbolInstance"===e.layers[0].type?-1!==e.layers[0].master.layers[0].name.indexOf("adius")||-1!==e.layers[0].master.layers[0].name.indexOf("圆角"):void 0})),f=i.filter((function(e){return"ShapePath"===e.layers[0].type?-1!==e.layers[0].name.indexOf("hadow")||-1!==e.layers[0].name.indexOf("投影")||-1!==e.layers[0].name.indexOf("阴影"):"SymbolInstance"===e.layers[0].type?-1!==e.layers[0].master.layers[0].name.indexOf("hadow")||-1!==e.layers[0].master.layers[0].name.indexOf("投影")||-1!==e.layers[0].master.layers[0].name.indexOf("阴影"):void 0}));l.forEach((function(a){e=1;var s=null;a.layers.length>0&&("SymbolInstance"===a.layers[0].type?void 0!==a.layers[0].master.layers[0]&&void 0!==a.layers[0].master.layers[0].points&&(s=a.layers[0].master.layers[0].points[0].cornerRadius,n=1):"ShapePath"===a.layers[0].type&&(s=a.layers[0].points[0].cornerRadius,n=1),0===s&&(s=1e-5)),a.getAllInstances().forEach((function(e){var a=e;if("SymbolMaster"===e.parent.type&&1===e.parent.layers.length)a=e.master;else if("Group"===e.parent.type&&1===e.parent.layers.length&&1===e.getParentArtboard().layers.length);else{a.style.opacity=0,a.frame.width=.1,a.frame.height=.1,a.frame.x=a.parent.frame.width/2,a.frame.y=a.parent.frame.height/2,a.locked=!0,a.hidden=!0;var o,i=a.parent;if(i.layers.find((function(e){return-1!==e.name.indexOf("AutoStyle")}))&&"points"in(o=i.layers.find((function(e){return-1!==e.name.indexOf("AutoStyle")})))){if(1===n)if(o.points.find((function(e){return e.cornerRadius>0}))){o.points.forEach((function(e){0!==e.cornerRadius&&(e.cornerRadius=s)}));var l=o.points.findIndex((function(e){return e.cornerRadius>0}));o.points[l].cornerRadius=s+1e-5,r++}else o.points.forEach((function(e){e.cornerRadius=s})),o.points[0].cornerRadius=s+1e-5,r++;t=1}}}))})),f.forEach((function(e){var r=null;(e.layers.length>0&&("SymbolInstance"===e.layers[0].type?void 0!==e.layers[0].master.layers[0]&&(r=e.layers[0].master.layers[0].style.shadows):"ShapePath"===e.layers[0].type&&(r=e.layers[0].style.shadows,n=1)),r.length>0)&&e.getAllInstances().forEach((function(a){var s=a;if("SymbolMaster"===a.parent.type&&1===a.parent.layers.length)s=a.master;else if("Group"===a.parent.type&&1===a.parent.layers.length&&1===a.getParentArtboard().layers.length);else{e.getAllInstances().forEach((function(e){e.style.opacity=0,e.frame.width=.1,e.frame.height=.1,e.frame.x=e.parent.frame.width/2,e.frame.y=e.parent.frame.height/2,e.locked=!0,s.hidden=!0;var a,i=e.parent;i.layers.find((function(e){return-1!==e.name.indexOf("AutoStyle")}))&&(a=i.layers.find((function(e){return-1!==e.name.indexOf("AutoStyle")})),1===n&&(a.style.shadows=r,o+=1),t=1)}))}}))})),0===e?a.a.UI.message("Find No Global Radius or Shadow Artboard"):0===n?a.a.UI.message("未在 Global Artboard 内找到记录属性的形状图层"):0===t?a.a.UI.message("未找到需要同步的 AutoStyle 图层"):r+o===0?a.a.UI.message("同步 AutoStyle 图层属性时失败"):a.a.UI.message("Succeed In Syncing "+r+" Radius Layer(s) And "+o+" Shadows Layer(s)")}}]);if("default"===e&&"function"==typeof t)t(n);else{if("function"!=typeof t[e])throw new Error('Missing export named "'+e+'". Your command should contain something like `export function " + key +"() {}`.');t[e](n)}}catch(r){if("undefined"==typeof process||!process.listenerCount||!process.listenerCount("uncaughtException"))throw r;process.emit("uncaughtException",r,"uncaughtException")}}globalThis.onRun=__skpm_run.bind(this,"default");